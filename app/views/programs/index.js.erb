function searchPrograms(program) {
const programs = document.getElementById('programs');
programs.insertAdjacentHTML("beforeend", program);
} 

document.getElementById('programs').innerHTML = "";

<% @programs.each do |program| %>
searchPrograms("<%= escape_javascript(render partial: 'programs/program_card_index', locals: { program: program } ) %>"); 
<% end %>